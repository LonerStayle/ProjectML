nohup: ignoring input
/home/wanted-1/PotenupWorkspace/ProjectML/.venv/lib/python3.12/site-packages/pydantic/_internal/_config.py:383: UserWarning: Valid config keys have changed in V2:
* 'orm_mode' has been renamed to 'from_attributes'
  warnings.warn(message, UserWarning)
/home/wanted-1/PotenupWorkspace/ProjectML/.venv/lib/python3.12/site-packages/pydantic/main.py:250: UserWarning: WARNING! top_p is not default parameter.
                    top_p was transferred to model_kwargs.
                    Please confirm that top_p is what you intended.
  validated_self = self.__pydantic_validator__.validate_python(data, self_instance=self)
Fetching 30 files:   0%|          | 0/30 [00:00<?, ?it/s]Fetching 30 files: 100%|██████████| 30/30 [00:00<00:00, 11015.42it/s]
initial target device:   0%|          | 0/2 [00:00<?, ?it/s]initial target device:  50%|█████     | 1/2 [00:01<00:01,  2.00s/it]initial target device: 100%|██████████| 2/2 [00:03<00:00,  2.00s/it]initial target device: 100%|██████████| 2/2 [00:03<00:00,  2.00s/it]
Chunks:   0%|          | 0/2 [00:00<?, ?it/s]You're using a XLMRobertaTokenizerFast tokenizer. Please note that with a fast tokenizer, using the `__call__` method is faster than using a method to encode the text followed by a call to the `pad` method to get a padded encoding.
Chunks:  50%|█████     | 1/2 [00:00<00:00,  1.73it/s]You're using a XLMRobertaTokenizerFast tokenizer. Please note that with a fast tokenizer, using the `__call__` method is faster than using a method to encode the text followed by a call to the `pad` method to get a padded encoding.
Chunks: 100%|██████████| 2/2 [00:00<00:00,  2.55it/s]Chunks: 100%|██████████| 2/2 [00:00<00:00,  2.38it/s]
Chunks:   0%|          | 0/2 [00:00<?, ?it/s]Chunks: 100%|██████████| 2/2 [00:00<00:00, 76.34it/s]
Chunks:   0%|          | 0/2 [00:00<?, ?it/s]Chunks: 100%|██████████| 2/2 [00:00<00:00, 91.63it/s]
/home/wanted-1/PotenupWorkspace/ProjectML/.venv/lib/python3.12/site-packages/pydantic/main.py:250: UserWarning: WARNING! top_p is not default parameter.
                    top_p was transferred to model_kwargs.
                    Please confirm that top_p is what you intended.
  validated_self = self.__pydantic_validator__.validate_python(data, self_instance=self)
INFO:     Started server process [1091114]
INFO:     Waiting for application startup.
INFO:     Application startup complete.
INFO:     Uvicorn running on http://0.0.0.0:9999 (Press CTRL+C to quit)
2025-12-17 19:54:22 | INFO | [3c6e7f41c7] -> 100.76.42.114 POST /api/dungeon/entrance
[DEBUG] _create_event_for_floor: player_id=q3wfaefesgsr32, heroine_data={'heroine_id': 1, 'memory_progress': 10}
[DEBUG] event_state: {'messages': [], 'heroine_data': {'heroine_id': 1, 'memory_progress': 10}, 'player_id': 'q3wfaefesgsr32', 'heroine_memories': [], 'event_room': 2, 'next_floor': 1, 'used_events': [], 'selected_main_event': '', 'sub_event': '', 'final_answer': ''}
[heroine_memories_node] 플레이어 ID: q3wfaefesgsr32 | 히로인 ID: 1
[heroine_memories_node] 기억 진척도: 10
[heroine_memories_node] 해금된 기억 개수: 1
[selected_main_event_node] 선택된 이벤트: 검은 형상의 무언가
[selected_main_event_node] 개별 이벤트 여부: False
[create_sub_event_node] 서브 이벤트 생성 완료
sub_event_narrative='방 중앙에 어둠이 물결치듯 일렁이는 검은 형상이 있다. 빛을 삼키는 듯한 그 존재는 주변 공기마저 무겁게 짓누르며, 숨조차 쉬기 어려운 긴장감을 자아낸다. 검은 형상은 형태를 알 수 없지만, 그 존재감은 확실하다.' event_choices=[EventChoice(action='검은 형상에 가까이 다가가 자세히 살펴본다', reward_id=None, penalty_id=None), EventChoice(action='검은 형상에게 말을 걸어본다', reward_id=None, penalty_id=None), EventChoice(action='검은 형상을 무시하고 조용히 물러난다', reward_id=None, penalty_id=None), EventChoice(action='검은 형상에 검을 뽑아 위협적으로 다가간다', reward_id=None, penalty_id=None)] expected_outcome='선택지에 따라 검은 형상과의 접촉 여부가 결정되며, 탐색, 대화, 회피, 혹은 적대적 행동으로 상황이 전개된다.'
[DEBUG] _create_event_for_floor: player_id=q3wfaefesgsr32, heroine_data={'heroine_id': 1, 'memory_progress': 10}
[DEBUG] event_state: {'messages': [], 'heroine_data': {'heroine_id': 1, 'memory_progress': 10}, 'player_id': 'q3wfaefesgsr32', 'heroine_memories': [], 'event_room': 3, 'next_floor': 1, 'used_events': [{'room_id': 2, 'event_type': 1, 'event_title': '검은 형상의 무언가', 'event_code': 'BLACK_FIGURE', 'scenario_text': '방의 한 가운데에 검은 형상을 한 무언가가 존재한다. 그것은 빛을 집어삼키듯 어둡고, 주변의 공기마저 무겁게 짓누르고 있다.', 'scenario_narrative': '방 중앙에 어둠이 물결치듯 일렁이는 검은 형상이 있다. 빛을 삼키는 듯한 그 존재는 주변 공기마저 무겁게 짓누르며, 숨조차 쉬기 어려운 긴장감을 자아낸다. 검은 형상은 형태를 알 수 없지만, 그 존재감은 확실하다.', 'choices': [{'action': '검은 형상에 가까이 다가가 자세히 살펴본다', 'reward': None, 'penalty': None}, {'action': '검은 형상에게 말을 걸어본다', 'reward': None, 'penalty': None}, {'action': '검은 형상을 무시하고 조용히 물러난다', 'reward': None, 'penalty': None}, {'action': '검은 형상에 검을 뽑아 위협적으로 다가간다', 'reward': None, 'penalty': None}], 'expected_outcome': '선택지에 따라 검은 형상과의 접촉 여부가 결정되며, 탐색, 대화, 회피, 혹은 적대적 행동으로 상황이 전개된다.', 'player_id': 'q3wfaefesgsr32', 'is_personal': False, 'floor': 1}], 'selected_main_event': '', 'sub_event': '', 'final_answer': ''}
[heroine_memories_node] 플레이어 ID: q3wfaefesgsr32 | 히로인 ID: 1
[heroine_memories_node] 기억 진척도: 10
[heroine_memories_node] 해금된 기억 개수: 1
[selected_main_event_node] 선택된 이벤트: 제단속에 고여있는 물
[selected_main_event_node] 개별 이벤트 여부: False
[create_sub_event_node] 서브 이벤트 생성 완료
sub_event_narrative='방 중앙에 놓인 작은 사각형 기둥은 마치 제단처럼 보인다. 그 깊게 파인 공간에는 맑고 투명한 물이 가득 차 있으며, 수면 위로 은은한 빛이 부드럽게 감돈다. 물결은 미세하게 출렁이며 주변의 어둠 속에서 신비로운 존재감을 드러낸다.' event_choices=[EventChoice(action='물을 자세히 들여다본다', reward_id=None, penalty_id=None), EventChoice(action='손을 담가 물의 온도를 확인한다', reward_id=None, penalty_id=None), EventChoice(action='기둥을 조심스럽게 만져본다', reward_id=None, penalty_id=None), EventChoice(action='제단을 무시하고 방을 떠난다', reward_id=None, penalty_id=None)] expected_outcome='물을 들여다보거나 만지는 행동은 주변의 신비로운 에너지에 대한 단서를 제공할 수 있으며, 무시하고 떠나는 선택은 안전하지만 정보를 얻지 못한다.'
[DEBUG] _create_event_for_floor: player_id=q3wfaefesgsr32, heroine_data={'heroine_id': 1, 'memory_progress': 10}
[DEBUG] event_state: {'messages': [], 'heroine_data': {'heroine_id': 1, 'memory_progress': 10}, 'player_id': 'q3wfaefesgsr32', 'heroine_memories': [], 'event_room': 3, 'next_floor': 2, 'used_events': [{'room_id': 2, 'event_type': 1, 'event_title': '검은 형상의 무언가', 'event_code': 'BLACK_FIGURE', 'scenario_text': '방의 한 가운데에 검은 형상을 한 무언가가 존재한다. 그것은 빛을 집어삼키듯 어둡고, 주변의 공기마저 무겁게 짓누르고 있다.', 'scenario_narrative': '방 중앙에 어둠이 물결치듯 일렁이는 검은 형상이 있다. 빛을 삼키는 듯한 그 존재는 주변 공기마저 무겁게 짓누르며, 숨조차 쉬기 어려운 긴장감을 자아낸다. 검은 형상은 형태를 알 수 없지만, 그 존재감은 확실하다.', 'choices': [{'action': '검은 형상에 가까이 다가가 자세히 살펴본다', 'reward': None, 'penalty': None}, {'action': '검은 형상에게 말을 걸어본다', 'reward': None, 'penalty': None}, {'action': '검은 형상을 무시하고 조용히 물러난다', 'reward': None, 'penalty': None}, {'action': '검은 형상에 검을 뽑아 위협적으로 다가간다', 'reward': None, 'penalty': None}], 'expected_outcome': '선택지에 따라 검은 형상과의 접촉 여부가 결정되며, 탐색, 대화, 회피, 혹은 적대적 행동으로 상황이 전개된다.', 'player_id': 'q3wfaefesgsr32', 'is_personal': False, 'floor': 1}, {'room_id': 3, 'event_type': 3, 'event_title': '제단속에 고여있는 물', 'event_code': 'ALTAR_WATER', 'scenario_text': '방의 한 가운데에 가슴 높이까지 오는 작은 사각형 기둥이 놓여 있다. 기둥의 가운데는 깊게 파여 있으며, 그 안에는 맑은 물이 찰랑거리고 있다. 수면 위로 은은한 빛이 감돌고 있다.', 'scenario_narrative': '방 중앙에 놓인 작은 사각형 기둥은 마치 제단처럼 보인다. 그 깊게 파인 공간에는 맑고 투명한 물이 가득 차 있으며, 수면 위로 은은한 빛이 부드럽게 감돈다. 물결은 미세하게 출렁이며 주변의 어둠 속에서 신비로운 존재감을 드러낸다.', 'choices': [{'action': '물을 자세히 들여다본다', 'reward': None, 'penalty': None}, {'action': '손을 담가 물의 온도를 확인한다', 'reward': None, 'penalty': None}, {'action': '기둥을 조심스럽게 만져본다', 'reward': None, 'penalty': None}, {'action': '제단을 무시하고 방을 떠난다', 'reward': None, 'penalty': None}], 'expected_outcome': '물을 들여다보거나 만지는 행동은 주변의 신비로운 에너지에 대한 단서를 제공할 수 있으며, 무시하고 떠나는 선택은 안전하지만 정보를 얻지 못한다.', 'player_id': 'q3wfaefesgsr32', 'is_personal': False, 'floor': 1}], 'selected_main_event': '', 'sub_event': '', 'final_answer': ''}
[heroine_memories_node] 플레이어 ID: q3wfaefesgsr32 | 히로인 ID: 1
[heroine_memories_node] 기억 진척도: 10
[heroine_memories_node] 해금된 기억 개수: 1
[selected_main_event_node] 선택된 이벤트: 심연을 숭배하는 자
[selected_main_event_node] 개별 이벤트 여부: False
[create_sub_event_node] 서브 이벤트 생성 완료
sub_event_narrative='방 중앙에 후드를 깊게 눌러쓴 인물이 서 있다. 얼굴은 그림자에 가려져 보이지 않고, 낡은 천이 미세하게 떨리고 있다. 인물은 당신을 인지한 듯 고개를 돌리며 떨리는 목소리로 무언가를 중얼거린다. 말은 단어의 형태를 갖추었으나 뜻을 알아듣기 어렵다. 그의 손은 무언가를 움켜쥐고 있지만, 겉으로는 보이지 않는다.' event_choices=[EventChoice(action='인물에게 말을 건다', reward_id=None, penalty_id=None), EventChoice(action='조용히 관찰한다', reward_id=None, penalty_id=None), EventChoice(action='무시하고 지나간다', reward_id=None, penalty_id=None), EventChoice(action='적대적으로 다가선다', reward_id=None, penalty_id=None)] expected_outcome='말을 걸면 인물의 반응을 유도해 정보를 얻을 수 있고, 조용히 관찰하면 상황을 파악하는 데 도움이 된다. 무시하면 충돌을 피할 수 있으며, 적대적으로 다가서면 전투 상황이 발생할 수 있다.'2025-12-17 19:54:37 | INFO | [3c6e7f41c7] <- 200 (14.654s)

[TIMING] 던전 입장~이벤트 생성 전체 처리 시간: 14.648s
INFO:     100.76.42.114:52677 - "POST /api/dungeon/entrance HTTP/1.1" 200 OK
